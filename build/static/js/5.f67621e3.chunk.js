(this.webpackJsonprefill_rjs=this.webpackJsonprefill_rjs||[]).push([[5],{122:function(t,e){t.exports.download=function(t,e,a){var r,o,n,d=window,s="application/octet-stream",c=a||s,i=t,u=document,l=u.createElement("a"),p=function(t){return String(t)},b=d.Blob||d.MozBlob||d.WebKitBlob||p,m=d.MSBlobBuilder||d.WebKitBlobBuilder||d.BlobBuilder,f=e||"download";if("true"===String(this)&&(c=(i=[i,c])[0],i=i[1]),String(i).match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/))return navigator.msSaveBlob?navigator.msSaveBlob(function(t){var e=t.split(/[:;,]/),a=e[1],r=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),o=r.length,n=0,d=new Uint8Array(o);for(;n<o;++n)d[n]=r.charCodeAt(n);return new b([d],{type:a})}(i),f):h(i);try{r=i instanceof b?i:new b([i],{type:c})}catch(_){m&&((o=new m).append([i]),r=o.getBlob(c))}function h(t,e){if("download"in l)return l.href=t,l.setAttribute("download",f),l.innerHTML="downloading...",u.body.appendChild(l),setTimeout(function(){l.click(),u.body.removeChild(l),!0===e&&setTimeout(function(){d.URL.revokeObjectURL(l.href)},250)},66),!0;var a=u.createElement("iframe");u.body.appendChild(a),e||(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),a.src=t,setTimeout(function(){u.body.removeChild(a)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(r,f);if(d.URL)h(d.URL.createObjectURL(r),!0);else{if("string"===typeof r||r.constructor===p)try{return h("data:"+c+";base64,"+d.btoa(r))}catch(_){return h("data:"+c+","+encodeURIComponent(r))}(n=new FileReader).onload=function(t){h(this.result)},n.readAsDataURL(r)}return!0}},125:function(t,e,a){"use strict";a.r(e);var r=a(1),o=a(6),n=a(9),d=a(17),s=a(16),c=a(18),i=a(2),u=a.n(i),l=a(35),p=a(28),b=a(0),m=a(27),f=a(48),h=a.n(f),_=a(118),g=a(24),k=a(20),v=a(115),w=a(122),P=a.n(w),S=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(d.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(c)))).componentDidMount=function(){a.product_list(),a.init()},a.init=function(){(0,a.props.updateSystemData)(Object(r.a)({},b.pd,"Refill | Product List"))},a.product_list=function(){var t=this.props,e=t.user_token;t.updateDeleteProductFormData;window.$("#product_list").DataTable({responsive:!0,processing:!0,serverSide:!0,ajax:{url:Object(m.d)(),type:"POST",data:{user_token:e},beforeSend:function(t){t.setRequestHeader("Authorization",Object(m.a)())}},columns:[{data:"_id"},{data:"name"},{data:"createdAt"},{data:"Actions"}],columnDefs:[{targets:-1,orderable:!1,render:function(t,e,a,r){return'\n                        <span class="dropdown">\n                            <a href="#" class="btn btn-sm btn-clean btn-icon btn-icon-md" data-toggle="dropdown" aria-expanded="true">\n                              <i class="la la-ellipsis-h"></i>\n                            </a>\n                            <div class="dropdown-menu dropdown-menu-right">\n                                <a class="dropdown-item" href="/product/edit/'.concat(a._id,'"><i class="la la-edit"></i>Edit</a>\n                            </div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<script>\n\t\t\t\t\t\t\tfunction getProductId(id){\n\t\t\t\t\t\t\t\t$("#confirm_product_delete").data("data-product-id", id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t<\/script>\n                        <button class="btn btn-sm btn-clean btn-icon btn-icon-md" id="').concat(a._id,'" onclick="getProductId(this.id)" data-toggle="modal" data-target="#product_delete">\n                          <i class="fa fa-trash"></i>\n\t\t\t\t\t\t</button>\n                    ')}},{targets:-2,render:function(t,e,a,r){return'<span class="kt-font-bold">'+h()(t).format("DD/MM/YYYY")+"</span>"}},{targets:-4,render:function(t,e,a,r){return"...".concat(t.substring(t.length-8,t.length))}}]})},a.redraw=function(){window.$("#product_list").DataTable().draw()},a._openPage=function(t){var e=a.props.history;t&&e.push(t)},a.componentDidUpdate=function(t){var e=a.props,r=e.deleteProductRequestStatus,o=e.exportProductRequestStatus,n=(e.history,t&&t.deleteProductRequestStatus?t.deleteProductRequestStatus:{});if(r[b.fd]!==n[b.fd])switch(r[b.fd]){case b.md:k.ToastsStore.success("Product successfully deleted",3e3),window.$("#close_product_delete").click(),a.resetProductData(),a.redraw();break;case b.sd:k.ToastsStore.error("Token not available, Please try again",3e3);break;case b.Tb:switch(r[b.Dc]&&r[b.Dc].message?r[b.Dc].message:""){case b.Yc:k.ToastsStore.error("Validation error, Please try again",3e3);break;case b.Vc:k.ToastsStore.error("Product not Found, Please try again",3e3)}}var d=t&&t.exportProductRequestStatus?t.exportProductRequestStatus:{};if(o[b.fd]!==d[b.fd])switch(o[b.fd]){case b.md:break;case b.sd:k.ToastsStore.error("Token not available, Please try again",3e3);break;case b.Tb:switch(r[b.Dc]&&r[b.Dc].message?r[b.Dc].message:""){case b.Yc:k.ToastsStore.error("Validation error, Please try again",3e3);break;case b.Vc:k.ToastsStore.error("No products available",3e3)}}},a.componentWillUnmount=function(){a.resetProductData()},a.resetProductData=function(){(0,a.props.resetProductState)()},a.exportCSVFile=function(){var t=a.props.user_token;Object(m.q)(t).then(function(t){P.a.download(t)}).catch(function(t){console.log("export all products ===> error",t)})},a}return Object(c.a)(e,t),Object(n.a)(e,[{key:"render",value:function(){var t=this.props,e=t.deleteProductLoading,a=t.deleteProduct,r=t.exportProductLoading;return u.a.createElement("div",{className:"kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor",id:"kt_content"},u.a.createElement("div",{className:"kt-subheader   kt-grid__item",id:"kt_subheader"},u.a.createElement("div",{className:"kt-container  kt-container--fluid "},u.a.createElement("div",{className:"kt-subheader__main"},u.a.createElement("h3",{className:"kt-subheader__title"},"Product "),u.a.createElement("span",{className:"kt-subheader__separator kt-hidden"}),u.a.createElement("div",{className:"kt-subheader__breadcrumbs"},u.a.createElement("a",{href:"#",className:"kt-subheader__breadcrumbs-home"},u.a.createElement("i",{className:"flaticon2-shelter"})),u.a.createElement("span",{className:"kt-subheader__breadcrumbs-separator"}),u.a.createElement("a",{href:"",className:"kt-subheader__breadcrumbs-link"},"List "))),u.a.createElement("div",{className:"kt-subheader__toolbar"},u.a.createElement("div",{className:"kt-subheader__wrapper"},u.a.createElement("button",{type:"button",class:"btn btn-outline-brand",onClick:this._openPage.bind(this,"/product/add")},u.a.createElement("i",{class:"la la-plus"}),"Add Product"))))),u.a.createElement(_.d,{table_id:"product_list",exportProductLoading:r,exportCSVFileData:this.exportCSVFile}),u.a.createElement(g.c,{_id:"product_delete",label:"Confirm",loading:e,description:"Are you sure you want to delete this product",confirm_btn:"Continue",onConfirm:function(){a(window.$("#confirm_product_delete").data("data-product-id"))}}))}}]),e}(i.PureComponent);e.default=Object(l.b)(function(t){var e=t.user,a=t.product,r=e&&e[b.ud]?e[b.ud]:void 0,o=!!(r&&r[b.td]&&r[b.td].user_token)&&r[b.td].user_token,n=a&&a[b.Ec]?a[b.Ec]:void 0,d=n&&n[b.db]?n[b.db]:"",s=n&&n[b.cb]?n[b.cb]:"",c=n&&n[b.Wb]?n[b.db]:"",i=n&&n[b.Vb]?n[b.cb]:"";return console.log("deleteProductRequestStatus[STATUS] ===> ",n),{user_token:o,deleteProductRequestStatus:d,deleteProductLoading:s,exportProductRequestStatus:c,exportProductLoading:i}},{updateSystemData:p.a,deleteProduct:v.b,updateDeleteProductFormData:v.g,resetProductState:v.e})(S)}}]);
//# sourceMappingURL=5.f67621e3.chunk.js.map