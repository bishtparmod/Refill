(this.webpackJsonprefill_rjs=this.webpackJsonprefill_rjs||[]).push([[0],{115:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"c",function(){return u}),a.d(t,"b",function(){return b}),a.d(t,"d",function(){return p}),a.d(t,"f",function(){return g}),a.d(t,"h",function(){return m}),a.d(t,"g",function(){return f}),a.d(t,"i",function(){return _}),a.d(t,"e",function(){return j});var n=a(7),r=a.n(n),c=a(11),i=a(1),o=a(3),l=a(0),s=a(27),d=function(e){return function(e,t){try{var a,n,d,u,b=t()[l.Gc][l.Ec][l.c],p=t()[l.vd][l.ud],g=p&&p[l.td]&&p[l.td].user_token?p[l.td].user_token:void 0;if(!g)return void e(_((u={},Object(i.a)(u,l.D,(d={},Object(i.a)(d,l.fd,l.Ob),Object(i.a)(d,l.Dc,{message:l.sd}),d)),Object(i.a)(u,l.C,!1),u)));e(_((n={},Object(i.a)(n,l.D,(a={},Object(i.a)(a,l.fd,l.Ob),Object(i.a)(a,l.Dc,""),a)),Object(i.a)(n,l.C,!0),n)));var m={user_token:g,name:b[l.o],short_description:b[l.u],long_description:b[l.m],images:b[l.y],manufacture_at:b[l.n],brand:b[l.f],distributor:b[l.k],delivery_time_in_days:parseFloat(b[l.i])?parseFloat(b[l.i]):b[l.i],retail_price:parseFloat(b[l.t])?parseFloat(b[l.t]):b[l.t],refill_price:parseFloat(b[l.s])?parseFloat(b[l.s]):b[l.s],notes:b[l.p],discount:parseFloat(b[l.j])?parseFloat(b[l.j]):b[l.j],alerts:b[l.d],size:b[l.v],code:b[l.h],weight:parseFloat(b[l.z])?parseFloat(b[l.z]):b[l.z],unit:b[l.x],expiry_at:b[l.l],pupc_gtin_code:b[l.q],category_id:b[l.g],sub_category_id:b[l.w],average_life_in_days:parseFloat(b[l.e])?parseFloat(b[l.e]):b[l.lb],quantity:parseFloat(b[l.r])?parseFloat(b[l.r]):b[l.r]};console.log("body create password ===> ",m),Object(s.h)(m).then(function(){var t=Object(c.a)(r.a.mark(function t(a){var n,c,s,d;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.a.log("Refill Product Response ===> ",a),a&&200===a.status?e(_((c={},Object(i.a)(c,l.D,(n={},Object(i.a)(n,l.fd,l.md),Object(i.a)(n,l.Dc,a),n)),Object(i.a)(c,l.C,!1),c))):e(_((d={},Object(i.a)(d,l.D,(s={},Object(i.a)(s,l.fd,l.Tb),Object(i.a)(s,l.Dc,a),s)),Object(i.a)(d,l.C,!1),d)));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){var a,n;o.a.log("Refill Product Response ===> error",t),e(_((n={},Object(i.a)(n,l.D,(a={},Object(i.a)(a,l.fd,l.Tb),Object(i.a)(a,l.Dc,""),a)),Object(i.a)(n,l.C,!1),n)))})}catch(j){var f,O;o.a.log("Update Refill Product Form Data ===> error ",j),e(_((O={},Object(i.a)(O,l.D,(f={},Object(i.a)(f,l.fd,l.Tb),Object(i.a)(f,l.Dc,""),f)),Object(i.a)(O,l.C,!1),O)))}}},u=function(e){return function(e,t){try{var a,n,d,u,b=t()[l.Gc][l.Ec][l.jb],p=t()[l.vd][l.ud],g=p&&p[l.td]&&p[l.td].user_token?p[l.td].user_token:void 0;if(!g)return void e(_((u={},Object(i.a)(u,l.Mb,(d={},Object(i.a)(d,l.fd,l.Ob),Object(i.a)(d,l.Dc,{message:l.sd}),d)),Object(i.a)(u,l.Lb,!1),u)));e(_((n={},Object(i.a)(n,l.Mb,(a={},Object(i.a)(a,l.fd,l.Ob),Object(i.a)(a,l.Dc,""),a)),Object(i.a)(n,l.Lb,!0),n)));var m={user_token:g,product_id:b[l.xb],name:b[l.vb],short_description:b[l.Cb],long_description:b[l.tb],images:b[l.Gb],manufacture_at:b[l.ub],brand:b[l.mb],distributor:b[l.rb],delivery_time_in_days:parseFloat(b[l.pb])?parseFloat(b[l.pb]):b[l.pb],retail_price:parseFloat(b[l.Bb])?parseFloat(b[l.Bb]):b[l.Bb],refill_price:parseFloat(b[l.Ab])?parseFloat(b[l.Ab]):b[l.Ab],notes:b[l.wb],discount:parseFloat(b[l.qb])?parseFloat(b[l.qb]):b[l.qb],alerts:b[l.kb],size:b[l.Db],code:b[l.ob],weight:parseFloat(b[l.Hb])?parseFloat(b[l.Hb]):b[l.Hb],unit:b[l.Fb],expiry_at:b[l.sb],pupc_gtin_code:b[l.yb],category_id:b[l.nb],sub_category_id:b[l.Eb],average_life_in_days:parseFloat(b[l.lb])?parseFloat(b[l.lb]):b[l.lb],quantity:parseFloat(b[l.zb])?parseFloat(b[l.zb]):b[l.zb]};console.log("body edit product ===> ",m),Object(s.n)(m).then(function(){var t=Object(c.a)(r.a.mark(function t(a){var n,c,s,d;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.a.log("Refill Edit Product Response ===> ",a),a&&200===a.status?e(_((c={},Object(i.a)(c,l.Mb,(n={},Object(i.a)(n,l.fd,l.md),Object(i.a)(n,l.Dc,a),n)),Object(i.a)(c,l.Lb,!1),c))):e(_((d={},Object(i.a)(d,l.Mb,(s={},Object(i.a)(s,l.fd,l.Tb),Object(i.a)(s,l.Dc,a),s)),Object(i.a)(d,l.Lb,!1),d)));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){var a,n;o.a.log("Refill Edit Product Response ===> error",t),e(_((n={},Object(i.a)(n,l.Mb,(a={},Object(i.a)(a,l.fd,l.Tb),Object(i.a)(a,l.Dc,""),a)),Object(i.a)(n,l.Lb,!1),n)))})}catch(j){var f,O;o.a.log("Update Refill Product Form Data ===> error ",j),e(_((O={},Object(i.a)(O,l.Mb,(f={},Object(i.a)(f,l.fd,l.Tb),Object(i.a)(f,l.Dc,""),f)),Object(i.a)(O,l.Lb,!1),O)))}}},b=function(e){return function(t,a){try{var n,d,u,b,p=a()[l.vd][l.ud],g=p&&p[l.td]&&p[l.td].user_token?p[l.td].user_token:void 0;if(!g)return void t(_((b={},Object(i.a)(b,l.db,(u={},Object(i.a)(u,l.fd,l.Ob),Object(i.a)(u,l.Dc,{message:l.sd}),u)),Object(i.a)(b,l.cb,!1),b)));t(_((d={},Object(i.a)(d,l.db,(n={},Object(i.a)(n,l.fd,l.Ob),Object(i.a)(n,l.Dc,""),n)),Object(i.a)(d,l.cb,!0),d)));var m={user_token:g,product_id:e};console.log("body delete product ===> ",m),Object(s.k)(m).then(function(){var e=Object(c.a)(r.a.mark(function e(a){var n,c,s,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.a.log("Refill Delete Product Response ===> ",a),a&&200===a.status?t(_((c={},Object(i.a)(c,l.db,(n={},Object(i.a)(n,l.fd,l.md),Object(i.a)(n,l.Dc,a),n)),Object(i.a)(c,l.cb,!1),c))):t(_((d={},Object(i.a)(d,l.db,(s={},Object(i.a)(s,l.fd,l.Tb),Object(i.a)(s,l.Dc,a),s)),Object(i.a)(d,l.cb,!1),d)));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){var a,n;o.a.log("Refill Edit Product Response ===> error",e),t(_((n={},Object(i.a)(n,l.db,(a={},Object(i.a)(a,l.fd,l.Tb),Object(i.a)(a,l.Dc,""),a)),Object(i.a)(n,l.cb,!1),n)))})}catch(j){var f,O;o.a.log("Update Refill Delete Product Form Data ===> error ",j),t(_((O={},Object(i.a)(O,l.db,(f={},Object(i.a)(f,l.fd,l.Tb),Object(i.a)(f,l.Dc,""),f)),Object(i.a)(O,l.cb,!1),O)))}}},p=function(){return function(e,t){try{var a,n,d,u,b=t()[l.Gc][l.Ec][l.jb],p=t()[l.vd][l.ud],g=p&&p[l.td]&&p[l.td].user_token?p[l.td].user_token:void 0;if(!g)return void e(_((u={},Object(i.a)(u,l.Mb,(d={},Object(i.a)(d,l.fd,l.Ob),Object(i.a)(d,l.Dc,{message:l.sd}),d)),Object(i.a)(u,l.Ib,!1),u)));e(_((n={},Object(i.a)(n,l.Mb,(a={},Object(i.a)(a,l.fd,l.Ob),Object(i.a)(a,l.Dc,""),a)),Object(i.a)(n,l.Ib,!0),n)));var f={user_token:g,product_id:b[l.xb]};console.log("body get product via id ===> ",f),Object(s.t)(f).then(function(){var t=Object(c.a)(r.a.mark(function t(a){var n,c,s,d,u;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.a.log("Refill Get Product Via Id Response ===> ",a),a&&200===a.status?(s=a&&a.data?a.data:{},e(_((n={},Object(i.a)(n,l.Ib,!1),Object(i.a)(n,l.Jb,s.images&&s.images.length?s.images.map(function(e,t){return{index:t,image:e.image,uploaded:!0}}):[]),n))),e(m((c={},Object(i.a)(c,l.vb,s.name),Object(i.a)(c,l.Cb,s.shortDescription),Object(i.a)(c,l.tb,s.longDescription),Object(i.a)(c,l.ub,s.manufactureAt),Object(i.a)(c,l.mb,s.brand),Object(i.a)(c,l.rb,s.distributor),Object(i.a)(c,l.pb,s&&s.deliveryTimeInDays>=0?"".concat(s.deliveryTimeInDays):""),Object(i.a)(c,l.Bb,s&&s.retailPrice>=0?"".concat(s.retailPrice):""),Object(i.a)(c,l.Ab,s&&s.refillPrice>=0?"".concat(s.refillPrice):""),Object(i.a)(c,l.wb,s.notes),Object(i.a)(c,l.qb,s&&s.discount>=0?"".concat(s.discount):""),Object(i.a)(c,l.kb,s.alerts),Object(i.a)(c,l.Db,s.size),Object(i.a)(c,l.ob,s.code),Object(i.a)(c,l.Hb,s&&s.weight>=0?"".concat(s.weight):""),Object(i.a)(c,l.Fb,s.unit),Object(i.a)(c,l.sb,s.expiryAt),Object(i.a)(c,l.yb,s.pupcGtinCode),Object(i.a)(c,l.nb,s.categoryId),Object(i.a)(c,l.Eb,s.subCategoryId),Object(i.a)(c,l.lb,s&&s.averageLifeInDays>=0?"".concat(s.averageLifeInDays):""),Object(i.a)(c,l.zb,s&&s.quantity>=0?"".concat(s.quantity):""),c)))):e(_((u={},Object(i.a)(u,l.Mb,(d={},Object(i.a)(d,l.fd,l.Tb),Object(i.a)(d,l.Dc,a),d)),Object(i.a)(u,l.Ib,!1),u)));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){var a,n;o.a.log("Refill Get Product Via Id Response ===> error",t),e(_((n={},Object(i.a)(n,l.Mb,(a={},Object(i.a)(a,l.fd,l.Tb),Object(i.a)(a,l.Dc,""),a)),Object(i.a)(n,l.Ib,!1),n)))})}catch(v){var O,j;o.a.log("Update Refill Get Product Via Id Form Data ===> error ",v),e(_((j={},Object(i.a)(j,l.Mb,(O={},Object(i.a)(O,l.fd,l.Tb),Object(i.a)(O,l.Dc,""),O)),Object(i.a)(j,l.Ib,!1),j)))}}},g=function(e){return function(t,a){try{var n=a()[l.Gc][l.Ec],r=Object.assign(n[l.c],e);t(O(Object.assign(n,Object(i.a)({},l.c,r))))}catch(c){o.a.log("Update Add Product Form Data ===> error ",c)}}},m=function(e){return function(t,a){try{var n=a()[l.Gc][l.Ec],r=Object.assign(n[l.jb],e);t(O(Object.assign(n,Object(i.a)({},l.jb,r))))}catch(c){o.a.log("Update Edit Product Form Data ===> error ",c)}}},f=function(e){return function(t,a){try{var n=a()[l.Gc][l.Ec],r=Object.assign(n[l.ab],e);t(O(Object.assign(n,Object(i.a)({},l.ab,r))))}catch(c){o.a.log("Update Edit Product Form Data ===> error ",c)}}},_=function(e){return function(t,a){try{var n=a()[l.Gc][l.Ec],r=Object.assign(n,e);t(O(r))}catch(c){o.a.log("Update Product UI Constraints ===> error ",c)}}},O=function(e){return function(t,a){try{var n=a()[l.Gc][l.Ec];t({type:l.Hc,payload:Object.assign(n,e)})}catch(r){o.a.log("Update Product State ===> error ",r)}}},j=function(e){return function(e,t){try{e({type:l.Fc,payload:{}})}catch(a){o.a.log("Update Product State ===> error ",a)}}}},116:function(e,t,a){},118:function(e,t,a){"use strict";var n=a(6),r=a(9),c=a(17),i=a(16),o=a(18),l=a(2),s=a.n(l),d=a(48),u=a.n(d),b=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){var e,t=a.props,n=t._id,r=t.value,c=t.handleOnChange,i=t.calendarOptions;e=window.KTUtil.isRTL()?{leftArrow:'<i className="la la-angle-right"></i>',rightArrow:'<i className="la la-angle-left"></i>'}:{leftArrow:'<i className="la la-angle-left"></i>',rightArrow:'<i className="la la-angle-right"></i>'},window.$("#".concat(n)).datepicker(Object.assign(i,{templates:e})).on("changeDate",function(e){c(new Date(e.date).getTime())}),r&&window.$("#".concat(n)).datepicker("setDate",u()(r).format("MM/DD/YYYY"))},a.componentDidUpdate=function(e){var t=a.props,n=t.value,r=t._id;n!==e.value&&n&&window.$("#".concat(r)).datepicker("setDate",u()(n).format("MM/DD/YYYY"))},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e._id,a=e.placeholder;return s.a.createElement("input",{type:"text",className:"form-control",id:t,readOnly:!0,placeholder:a})}}]),t}(l.PureComponent);b.defaultProps={placeholder:"Select date"};a(116);var p=a(27),g=a(35),m=a(0),f=a(115),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).componentDidMount=function(){a.init()},a.getCategoryData=function(){var e=a.props,t=e.category_id,n=e.type,r=e.user_token,c=a.state.value;"edit"!==n||!r||c&&c.name||Object(p.s)({user_token:r,category_id:t}).then(function(e){e.message===m.Xc&&(a.setState({value:e.data}),a.init())}).catch(function(e){a.init()})},a.init=function(){a.initSelectUI()},a.initSelectUI=function(){var e=this.props,t=e.user_token,a=e.handleOnChangeCategory,n=e._id,r=this;window.$&&window.$("#".concat(n)).select2({placeholder:"Search for category",allowClear:!0,ajax:{url:Object(p.c)(),delay:250,headers:{Authorization:Object(p.a)()},data:function(e){return{search:e.term?e.term:"",page:e.page?e.page:1,page_size:10,user_token:t}},processResults:function(e,t){return t.page=t.page||1,{results:e&&e.data&&e.data.items&&e.data.items.length?e.data.items.map(function(e){return e._id&&(e.id=e._id),e}):[],pagination:{more:!!(e&&e.data&&e.data.hasMore)&&e.data.hasMore}}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:1,templateResult:function(e){return e.loading?e.text:"<div className='select2-result-repository clearfix'><div className='select2-result-repository__meta'><div className='select2-result-repository__title'>"+e.name+"</div>"},templateSelection:function(e){var t=r.state.value;return e._id&&a&&a(e._id),e.name||t.name||e.text}})},a.resetCategorySelect=function(){var e=a.props._id;window.$("#".concat(e)).val(null).trigger("change")},a.componentDidUpdate=function(e){var t=a.props,n=t.addProductReqeustStatus,r=t.category_id,c=e&&e.addProductReqeustStatus?e.addProductReqeustStatus:{};if(n[m.fd]!==c[m.fd])switch(n[m.fd]){case m.md:a.resetCategorySelect()}r!==e.category_id&&a.getCategoryData()},a.state={value:{id:void 0,name:void 0}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error_label,a=e.label,n=e._id;return s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-form-label col-lg-3 col-sm-12"},a),s.a.createElement("div",{className:" col-lg-9 col-md-9 col-sm-12",id:"kt_select2_category_list_container"},s.a.createElement("select",{className:"form-control kt-select2",id:n,name:"param"},s.a.createElement("option",null)),t))}}]),t}(l.PureComponent),O=Object(g.b)(function(e){var t=e.user,a=e.product,n=t&&t[m.ud]?t[m.ud]:void 0,r=!!(n&&n[m.td]&&n[m.td].user_token)&&n[m.td].user_token,c=a&&a[m.Ec]?a[m.I]:void 0;return{user_token:r,addProductReqeustStatus:c&&c[m.D]?c[m.D]:{}}})(_),j=a(1),v=a(3),h=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).addImage=function(){document.getElementById("select_product_image").click()},a.onChangeFile=function(e){var t=a.props,n=t.images,r=t.updateProductUIConstraints,c=n;c.push({index:n&&n.length?n[n.length-1].index+1:0,image:e.target.files[0]}),r(Object(j.a)({},m.A,c))},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.images,a=e.error_label;return v.a.log("images ===> container",t),s.a.createElement("div",{className:"col-lg-9 col-xl-6"},s.a.createElement(D,{_id:"kt_contacts_add_avatar",addImage:this.addImage.bind(this),onChangeFile:this.onChangeFile.bind(this)}),t&&t.length?t.map(function(e){return s.a.createElement(E,{_id:e.index,key:e.index,image:e.image})}):s.a.createElement("div",null),a)}}]),t}(l.PureComponent),y=Object(g.b)(function(e){var t=e.product,a=t&&t[m.Ec]?t[m.Ec]:void 0,n=a&&a[m.A]?a[m.A]:[];return{images:n,length:n.length}},{updateProductUIConstraints:f.i})(h),k=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={isCancel:!1,image:"",uploading:!1,is_success:!1,is_error:!1},a.componentDidMount=function(){a.init()},a.init=function(){var e=a.props.image;a.encodeImageFile(e)},a.submit=function(){var e=a.props,t=e.image,n=(e._id,e.updateProductUIConstraints),r=(e.uploadedImages,e.images,e.updateAddProductFormData),c=(e.image_uploading_count,a.state),i=c.is_success;c.uploading||i||(a.setState({uploading:!0,is_success:!1,is_error:!1}),Object(p.x)(t).then(function(e){a.setState({uploading:!1,is_success:!0,is_error:!1});var t=a.props.uploadedImages&&a.props.uploadedImages.length?a.props.uploadedImages:[];t.push({image:e.location}),v.a.log("update on s3 bucket ===> ",t),r(Object(j.a)({},m.y,t)),n(Object(j.a)({},m.E,a.props.image_uploading_count+1))}).catch(function(e){v.a.log("s3 upload image ===> error",e),a.setState({uploading:!1,is_success:!1,is_error:!0}),n(Object(j.a)({},m.E,a.props.image_uploading_count+1))}))},a._handleCancel=function(){var e=a.props,t=e.updateProductUIConstraints,n=e.images,r=e._id;a.setState({isCancel:!0});var c=n&&n.length?n:[],i=n.findIndex(function(e){return e.index===r});-1!==i&&c.splice(i,1),t(Object(j.a)({},m.A,n))},a.componentDidUpdate=function(e){var t=a.props.image_uploading;t!==e.image_uploading&&t&&a.submit()},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"encodeImageFile",value:function(e){var t=new FileReader,a=this;t.onloadend=function(){a.setState({image:t.result})},t.readAsDataURL(e)}},{key:"render",value:function(){var e=this.state,t=e.isCancel,a=e.image,n=e.uploading,r=e.is_success,c=e.is_error;return t?null:s.a.createElement("div",{className:"kt-avatar kt-avatar--outline m-2",id:"kt_contacts_add_avatar"},s.a.createElement("div",{className:"kt-avatar__holder",style:{backgroundImage:'url("'.concat(a,'")')}}),r||n?s.a.createElement("div",{className:"refill-sub-container-center"},s.a.createElement("p",{style:{color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.8)",paddingLeft:10,paddingRight:10}},n?"Uploading...":"Uploaded")):s.a.createElement("span",{className:"kt-avatar__cancel",onClick:this._handleCancel.bind(this),style:{display:"flex"},"data-toggle":"kt-tooltip",title:"","data-original-title":"Cancel avatar"},s.a.createElement("i",{className:"fa fa-times"})),c?s.a.createElement("div",{className:"refill-sub-container-center"},s.a.createElement("p",{style:{color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.8)",paddingLeft:10,paddingRight:10}},"Try again")):null)}}]),t}(l.PureComponent),E=Object(g.b)(function(e){var t=e.product,a=t&&t[m.Ec]?t[m.Ec]:void 0,n=a&&a[m.c]?a[m.c]:void 0,r=n&&n[m.y]?n[m.y]:[],c=a&&a[m.A]?a[m.A]:void 0,i=!(!a||!a[m.B])&&a[m.B],o=a&&a[m.E]?a[m.E]:0;return console.log("uploadedImages ===> image_uploading",i),{images:c,image_uploading:i,uploadedImages:r,length:c.length,image_uploading_count:o,uploadedImagesLength:r.length}},{updateProductUIConstraints:f.i,updateAddProductFormData:f.f})(k),C=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uploading_image,a=e.onChangeFile,n=e._id,r=e.addImage;return t?null:s.a.createElement("div",{className:"kt-avatar kt-avatar--outline m-2",onClick:r,id:n},s.a.createElement("div",{className:"kt-avatar__holder"},s.a.createElement("input",{type:"file",hidden:!0,accept:"image/*",id:"select_product_image",onChange:a})),s.a.createElement("div",{className:"refill-sub-container-center"},s.a.createElement("img",{src:"/assets/img/plus.png",height:"40"})))}}]),t}(l.PureComponent),D=Object(g.b)(function(e){var t=e.product,a=t&&t[m.Ec]?t[m.Ec]:void 0;return{uploading_image:!(!a||!a[m.B])&&a[m.B]}},{updateProductUIConstraints:f.i})(C),I=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.table_id,a=e.exportCSVFileData,n=e.exportProductLoading;return s.a.createElement("div",{className:"kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid"},s.a.createElement("div",{className:"kt-portlet kt-portlet--mobile"},s.a.createElement("div",{className:"kt-portlet__head kt-portlet__head--lg"},s.a.createElement("div",{className:"kt-portlet__head-label"},s.a.createElement("span",{className:"kt-portlet__head-icon"},s.a.createElement("i",{className:"kt-font-brand flaticon2-line-chart"})),s.a.createElement("h3",{className:"kt-portlet__head-title"},"Products List")),s.a.createElement("div",{className:"kt-portlet__head-toolbar"},s.a.createElement("div",{className:"kt-portlet__head-wrapper"},s.a.createElement("div",{className:"kt-portlet__head-actions"},s.a.createElement("div",{className:"dropdown dropdown-inline"},s.a.createElement("button",{type:"button",className:"btn btn-default btn-icon-sm dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("i",{className:"la la-download"})," Export"),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},s.a.createElement("ul",{className:"kt-nav"},s.a.createElement("li",{className:"kt-nav__section kt-nav__section--first"},s.a.createElement("span",{className:"kt-nav__section-text"},"Choose an option")),s.a.createElement("li",{className:"kt-nav__item"},s.a.createElement("a",{className:"kt-nav__link refill_cursor",onClick:n?function(){}:a},s.a.createElement("i",{className:"kt-nav__link-icon la la-file-text-o"}),s.a.createElement("span",{className:"kt-nav__link-text"},n?"Loading...":"CSV")))))))))),s.a.createElement("div",{className:"kt-portlet__body"},s.a.createElement("table",{className:"table table-striped- table-bordered table-hover table-checkable",id:t},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Order ID"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Created Date"),s.a.createElement("th",null,"Actions")))))))}}]),t}(l.PureComponent),N=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).addImage=function(){document.getElementById("select_product_image").click()},a.onChangeFile=function(e){var t=a.props,n=t.images,r=t.updateProductUIConstraints,c=n;c.push({index:n&&n.length?n[n.length-1].index+1:0,image:e.target.files[0]}),r(Object(j.a)({},m.Jb,c))},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.images,a=e.error_label;return v.a.log("images ===> container",t),s.a.createElement("div",{className:"col-lg-9 col-xl-6"},s.a.createElement(U,{_id:"kt_contacts_edit_avatar",addImage:this.addImage.bind(this),onChangeFile:this.onChangeFile.bind(this)}),t&&t.length?t.map(function(e){return s.a.createElement(P,{_id:e.index,key:e.index,image:e.image,uploaded:e.uploaded})}):s.a.createElement("div",null),a)}}]),t}(l.PureComponent),F=Object(g.b)(function(e){var t=e.product,a=t&&t[m.Ec]?t[m.Ec]:void 0,n=a&&a[m.Jb]?a[m.Jb]:[];return{images:n,length:n.length}},{updateProductUIConstraints:f.i})(N),w=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={isCancel:!1,image:"",uploading:!1,is_success:!1,is_error:!1},a.componentDidMount=function(){a.init()},a.init=function(){var e=a.props,t=e.image;e.uploaded?a.setState({image:t}):a.encodeImageFile(t)},a.submit=function(){var e=a.props,t=e.image,n=e.uploaded,r=(e._id,e.updateProductUIConstraints),c=(e.uploadedImages,e.images,e.image_uploading_count,e.updateEditProductFormData),i=a.state,o=i.is_success;if(!i.uploading&&!o){if(n){a.setState({uploading:!1,is_success:!0,is_error:!1});var l=a.props.uploadedImages&&a.props.uploadedImages.length?a.props.uploadedImages:[];return l.push({image:t}),v.a.log("update on s3 bucket ===> ",l),c(Object(j.a)({},m.Gb,l)),void r(Object(j.a)({},m.Nb,a.props.image_uploading_count+1))}a.setState({uploading:!0,is_success:!1,is_error:!1}),Object(p.x)(t).then(function(e){a.setState({uploading:!1,is_success:!0,is_error:!1});var t=a.props.uploadedImages&&a.props.uploadedImages.length?a.props.uploadedImages:[];t.push({image:e.location}),v.a.log("update on s3 bucket ===> ",t),c(Object(j.a)({},m.Gb,t)),r(Object(j.a)({},m.Nb,a.props.image_uploading_count+1))}).catch(function(e){v.a.log("s3 upload image ===> error",e),a.setState({uploading:!1,is_success:!1,is_error:!0}),r(Object(j.a)({},m.Nb,a.props.image_uploading_count+1))})}},a._handleCancel=function(){var e=a.props,t=e.updateProductUIConstraints,n=e.images,r=e._id;a.setState({isCancel:!0});var c=n&&n.length?n:[],i=n.findIndex(function(e){return e.index===r});-1!==i&&c.splice(i,1),t(Object(j.a)({},m.Jb,n))},a.componentDidUpdate=function(e){var t=a.props.image_uploading;t!==e.image_uploading&&t&&a.submit()},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"encodeImageFile",value:function(e){var t=new FileReader,a=this;t.onloadend=function(){a.setState({image:t.result})},t.readAsDataURL(e)}},{key:"render",value:function(){var e=this.state,t=e.isCancel,a=e.image,n=e.uploading,r=e.is_success,c=e.is_error;return t?null:s.a.createElement("div",{className:"kt-avatar kt-avatar--outline m-2",id:"kt_contacts_add_avatar"},s.a.createElement("div",{className:"kt-avatar__holder",style:{backgroundImage:'url("'.concat(a,'")')}}),r||n?s.a.createElement("div",{className:"refill-sub-container-center"},s.a.createElement("p",{style:{color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.8)",paddingLeft:10,paddingRight:10}},n?"Uploading...":"Uploaded")):s.a.createElement("span",{className:"kt-avatar__cancel",onClick:this._handleCancel.bind(this),style:{display:"flex"},"data-toggle":"kt-tooltip",title:"","data-original-title":"Cancel avatar"},s.a.createElement("i",{className:"fa fa-times"})),c?s.a.createElement("div",{className:"refill-sub-container-center"},s.a.createElement("p",{style:{color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.8)",paddingLeft:10,paddingRight:10}},"Try again")):null)}}]),t}(l.PureComponent),P=Object(g.b)(function(e){var t=e.product,a=t&&t[m.Ec]?t[m.Ec]:void 0,n=a&&a[m.jb]?a[m.jb]:void 0,r=n&&n[m.Gb]?n[m.Gb]:[],c=a&&a[m.Jb]?a[m.Jb]:void 0,i=!(!a||!a[m.Kb])&&a[m.Kb],o=a&&a[m.Nb]?a[m.Nb]:0;return console.log("uploadedImages ===> image_uploading",i),{images:c,image_uploading:i,uploadedImages:r,length:c.length,image_uploading_count:o,uploadedImagesLength:r.length}},{updateProductUIConstraints:f.i,updateEditProductFormData:f.h})(w),x=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uploading_image,a=e.onChangeFile,n=e._id,r=e.addImage;return t?null:s.a.createElement("div",{className:"kt-avatar kt-avatar--outline m-2",onClick:r,id:n},s.a.createElement("div",{className:"kt-avatar__holder"},s.a.createElement("input",{type:"file",hidden:!0,accept:"image/*",id:"select_product_image",onChange:a})),s.a.createElement("div",{className:"refill-sub-container-center"},s.a.createElement("img",{src:"/assets/img/plus.png",height:"40"})))}}]),t}(l.PureComponent),U=Object(g.b)(function(e){var t=e.product,a=t&&t[m.Ec]?t[m.Ec]:void 0;return{uploading_image:!(!a||!a[m.Kb])&&a[m.Kb]}},{updateProductUIConstraints:f.i})(x);a.d(t,"e",function(){return b}),a.d(t,"f",function(){return O}),a.d(t,"i",function(){return y}),a.d(t,"h",function(){return E}),a.d(t,"g",function(){return D}),a.d(t,"d",function(){return I}),a.d(t,"c",function(){return F}),a.d(t,"b",function(){return P}),a.d(t,"a",function(){return U})}}]);
//# sourceMappingURL=0.01e0da22.chunk.js.map