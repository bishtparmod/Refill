(this.webpackJsonprefill_rjs=this.webpackJsonprefill_rjs||[]).push([[11],{128:function(e,a,t){"use strict";t.r(a);var r=t(1),s=t(6),o=t(9),c=t(17),n=t(16),l=t(18),i=t(2),m=t.n(i),d=t(35),u=t(0),b=t(119),g=t(28),_=t(20),p=t(23),f=t(121),y=function(e){function a(){var e,t;Object(s.a)(this,a);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(n.a)(a)).call.apply(e,[this].concat(l)))).componentDidMount=function(){t.init()},t.init=function(){(0,t.props.updateSystemData)(Object(r.a)({},u.pd,"Refill | Add Category"))},t.submit=function(e){e.preventDefault();var a=t.props,s=a.category_name,o=a.updateCategoryUIConstraints,c=a.category_loading,n=a.createCategory;if(!c){var l={category_name:s};p.a.validate(Object.keys(l),l).then(function(e){var a=e.status,t=e.response;a?(o(Object(r.a)({},u.F,[])),n()):o(Object(r.a)({},u.F,t&&t.length?t:[]))}).catch(function(e){return console.log(e)})}},t.subCategorySubmit=function(e){e.preventDefault();var a=t.props,s=a.sub_category_name,o=a.sub_category_id,c=a.updateCategoryUIConstraints,n=a.sub_category_loading,l=a.createSubCategory;if(!n){var i={sub_category_name:s,sub_category_id:o};p.a.validate(Object.keys(i),i).then(function(e){var a=e.status,t=e.response;a?(c(Object(r.a)({},u.gd,[])),l()):c(Object(r.a)({},u.gd,t&&t.length?t:[]))}).catch(function(e){return console.log(e)})}},t.isError=function(e){var a=t.props.category_errors;return a&&a.length&&a.findIndex(function(a){return a.fieldName===e})>-1?{status:!0,message:a[a.findIndex(function(a){return a.fieldName===e})].message}:{status:!1,message:""}},t.isSubCategoryError=function(e){var a=t.props.sub_category_errors;return a&&a.length&&a.findIndex(function(a){return a.fieldName===e})>-1?{status:!0,message:a[a.findIndex(function(a){return a.fieldName===e})].message}:{status:!1,message:""}},t.onChangeText=function(e,a){(0,t.props.updateCategoryFormData)(Object(r.a)({},e,a))},t.onChangeSubCategoryFormText=function(e,a){(0,t.props.updateSubCategoryFormData)(Object(r.a)({},e,a))},t.componentDidUpdate=function(e){var a=t.props,r=a.categoryReqeustStatus,s=a.subCategoryReqeustStatus,o=e&&e.categoryReqeustStatus?e.categoryReqeustStatus:{};if(r[u.fd]!==o[u.fd])switch(r[u.fd]){case u.md:_.ToastsStore.success("Category has been created successfully."),t.resetData();break;case u.Tb:switch(r[u.Dc]&&r[u.Dc].message?r[u.Dc].message:null){case u.Vc:_.ToastsStore.error("No Record Found.");break;case u.Wc:_.ToastsStore.error("Category is already present.");break;case u.sd:_.ToastsStore.error("User token is not available.");break;default:_.ToastsStore.error("Please try again")}}var c=e&&e.subCategoryReqeustStatus?e.subCategoryReqeustStatus:{};if(s[u.fd]!==c[u.fd])switch(s[u.fd]){case u.md:_.ToastsStore.success("Sub Category has been created successfully."),t.resetData();break;case u.Tb:switch(s[u.Dc]&&s[u.Dc].message?s[u.Dc].message:null){case u.Vc:_.ToastsStore.error("No Record Found.");break;case u.Wc:_.ToastsStore.error("Sub Category is already present.");break;case u.sd:_.ToastsStore.error("User token is not available.");break;default:_.ToastsStore.error("Please try again")}}},t._handleErrorMessage=function(e){var a=t.isError(e);return a&&a.status?m.a.createElement("span",{className:"form-text text-right text-error"},a.message):m.a.createElement("div",null)},t._handleSubCategoryErrorMessage=function(e){var a=t.isSubCategoryError(e);return a&&a.status?m.a.createElement("span",{className:"form-text text-right text-error"},a.message):m.a.createElement("div",null)},t.componentWillUnmount=function(){t.resetData()},t.resetData=function(){(0,t.props.resetCategoryDataState)()},t}return Object(l.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.category_loading,r=a.sub_category_loading,s=a.category_name,o=a.sub_category_name;return m.a.createElement("div",{className:"kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor",id:"kt_content"},m.a.createElement("div",{className:"kt-subheader   kt-grid__item",id:"kt_subheader"},m.a.createElement("div",{className:"kt-container  kt-container--fluid "},m.a.createElement("div",{className:"kt-subheader__main"},m.a.createElement("h3",{className:"kt-subheader__title"},"Category "),m.a.createElement("span",{className:"kt-subheader__separator kt-hidden"}),m.a.createElement("div",{className:"kt-subheader__breadcrumbs"},m.a.createElement("a",{href:"#",className:"kt-subheader__breadcrumbs-home"},m.a.createElement("i",{className:"flaticon2-shelter"})),m.a.createElement("span",{className:"kt-subheader__breadcrumbs-separator"}),m.a.createElement("a",{href:"",className:"kt-subheader__breadcrumbs-link"},"Add "))))),m.a.createElement("div",{className:"kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid"},m.a.createElement("div",{className:"kt-portlet kt-portlet--tabs"},m.a.createElement("div",{className:"kt-portlet__head"},m.a.createElement("div",{className:"kt-portlet__head-toolbar"},m.a.createElement("ul",{className:"nav nav-tabs nav-tabs-space-lg nav-tabs-line nav-tabs-bold nav-tabs-line-3x nav-tabs-line-brand",role:"tablist"},m.a.createElement("li",{className:"nav-item"},m.a.createElement("a",{className:"nav-link active","data-toggle":"tab",href:"#kt_apps_contacts_view_tab_2",role:"tab"},"Add Category")),m.a.createElement("li",{className:"nav-item"},m.a.createElement("a",{className:"nav-link ","data-toggle":"tab",href:"#kt_apps_contacts_view_tab_3",role:"tab"},"Add Sub-Category"))))),m.a.createElement("div",{className:"kt-portlet__body"},m.a.createElement("div",{className:"tab-content  kt-margin-t-20"},m.a.createElement("div",{className:"tab-pane active",id:"kt_apps_contacts_view_tab_2",role:"tabpanel"},m.a.createElement("form",{className:"kt-form kt-form--label-right",onSubmit:this.submit.bind(this)},m.a.createElement("div",{className:"kt-form__body"},m.a.createElement("div",{className:"kt-section kt-section--first"},m.a.createElement("div",{className:"kt-section__body"},m.a.createElement("div",{className:"row"},m.a.createElement("label",{className:"col-xl-3"}),m.a.createElement("div",{className:"col-lg-9 col-xl-6"},m.a.createElement("h3",{className:"kt-section__title kt-section__title-sm"},"Category Info:"))),m.a.createElement("div",{className:"form-group row"},m.a.createElement("label",{className:"col-xl-3 col-lg-3 col-form-label"},"Name"),m.a.createElement("div",{className:"col-lg-9 col-xl-6"},m.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter category name",value:s,onChange:function(a){return e.onChangeText(u.H,a.target.value)}}),this._handleErrorMessage("category_name")))))),m.a.createElement("div",{className:"kt-separator kt-separator--space-lg kt-separator--fit kt-separator--border-solid"}),m.a.createElement("div",{className:"kt-form__actions"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-3"}),m.a.createElement("div",{className:"col-lg-9 col-xl-6"},m.a.createElement("button",{className:"btn btn-brand btn-bold"},t?"Loading...":"Submit")))))),m.a.createElement("div",{className:"tab-pane",id:"kt_apps_contacts_view_tab_3",role:"tabpanel"},m.a.createElement("form",{className:"kt-form kt-form--label-right",onSubmit:this.subCategorySubmit.bind(this)},m.a.createElement("div",{className:"kt-form__body"},m.a.createElement("div",{className:"kt-section"},m.a.createElement("div",{className:"kt-section__body"},m.a.createElement("div",{className:"row"},m.a.createElement("label",{className:"col-xl-3"}),m.a.createElement("div",{className:"col-lg-9 col-xl-6"},m.a.createElement("h3",{className:"kt-section__title kt-section__title-sm"},"Sub-Category Info:"))),m.a.createElement(f.a,{error_label:this._handleSubCategoryErrorMessage("sub_category_id")}),m.a.createElement("div",{className:"form-group row"},m.a.createElement("label",{className:"col-xl-3 col-lg-3 col-form-label"},"Name"),m.a.createElement("div",{className:"col-lg-9 col-xl-6"},m.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter sub-category name",value:o,onChange:function(a){return e.onChangeSubCategoryFormText(u.jd,a.target.value)}}),this._handleSubCategoryErrorMessage("sub_category_name")))))),m.a.createElement("div",{className:"kt-separator kt-separator--space-lg kt-separator--fit kt-separator--border-solid"}),m.a.createElement("div",{className:"kt-form__actions"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-xl-3"}),m.a.createElement("div",{className:"col-lg-9 col-xl-6"},m.a.createElement("button",{type:"submit",className:"btn btn-brand btn-bold"},r?"Loading...":"Submit")))))))))))}}]),a}(i.PureComponent);a.default=Object(d.b)(function(e){var a=e.category,t=a&&a[u.I]?a[u.I]:void 0,r=t&&t[u.G]?t[u.G]:void 0,s=t&&t[u.hd]?t[u.hd]:void 0,o=r&&r[u.H]?r[u.H]:"",c=s&&s[u.jd]?s[u.jd]:"",n=s&&s[u.id]?s[u.id]:"",l=t&&t[u.F]?t[u.F]:[],i=t&&t[u.gd]?t[u.gd]:[],m=!(!t||!t[u.J])&&t[u.J],d=!(!t||!t[u.kd])&&t[u.kd],b=t&&t[u.K]?t[u.K]:{},g=t&&t[u.ld]?t[u.ld]:{};return console.log("sub category ===> ",d),{category_name:o,sub_category_name:c,sub_category_id:n,category_errors:l,sub_category_errors:i,category_loading:m,sub_category_loading:d,categoryReqeustStatus:b,subCategoryReqeustStatus:g}},{updateCategoryFormData:b.h,updateCategoryUIConstraints:b.i,updateSystemData:g.a,createCategory:b.a,resetCategoryDataState:b.g,updateSubCategoryFormData:b.j,createSubCategory:b.b})(y)}}]);
//# sourceMappingURL=11.eff63ed2.chunk.js.map