(this.webpackJsonprefill_rjs=this.webpackJsonprefill_rjs||[]).push([[17],{123:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(6),i=a(9),s=a(17),o=a(16),l=a(18),c=a(2),d=a.n(c),g=a(35),m=a(0),u=a(23),p=a(49),f=(a(3),a(20)),k=a(28),h=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){a.init()},a.init=function(){(0,a.props.updateSystemData)(Object(r.a)({},m.pd,"Refill | Login"))},a._openPage=function(e){var t=a.props.history;e&&t.push(e)},a.submit=function(e){e.preventDefault();var t=a.props,n=t.email,i=t.password,s=t.updateUIConstraints,o=t.login;if(!t.loading){var l={email:n,user_password:i};u.a.validate(Object.keys(l),l).then(function(e){var t=e.status,a=e.response;t?(s(Object(r.a)({},m.pc,[])),o()):s(Object(r.a)({},m.pc,a&&a.length?a:[]))}).catch(function(e){return console.log(e)})}},a.isError=function(e){var t=a.props.errors;return t&&t.length&&t.findIndex(function(t){return t.fieldName===e})>-1?{status:!0,message:t[t.findIndex(function(t){return t.fieldName===e})].message}:{status:!1,message:""}},a.onChangeText=function(e,t){(0,a.props.updateFormData)(Object(r.a)({},e,t))},a.componentDidUpdate=function(e){var t=a.props,r=t.reqeustStatus,n=(t.loading,t.navigation,e&&e.reqeustStatus?e.reqeustStatus:{});if(r[m.fd]!==n[m.fd])switch(r[m.fd]){case m.md:break;case m.Tb:switch(r[m.Dc]&&r[m.Dc].status?r[m.Dc].status:500){case 401:f.ToastsStore.error("Either email or password is incorrect");break;default:f.ToastsStore.error("Internal server error")}}},a._handleErrorMessage=function(e){var t=a.isError(e);return t&&t.status?d.a.createElement("p",{className:"text-right text-error"},t.message):d.a.createElement("div",null)},a.componentWillUnmount=function(){a.resetLoginData()},a.resetLoginData=function(){(0,a.props.resetLoginState)()},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.email,r=t.password,n=t.loading;return d.a.createElement("div",{className:"kt-page-content-white kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-header-mobile--fixed kt-subheader--enabled kt-subheader--transparent kt-aside--enabled kt-aside--fixed kt-page--loading"},d.a.createElement(f.ToastsContainer,{store:f.ToastsStore,lightBackground:!0,position:f.ToastsContainerPosition.TOP_RIGHT}),d.a.createElement("div",{className:"kt-grid kt-grid--ver kt-grid--root kt-page height-100"},d.a.createElement("div",{className:"kt-grid kt-grid--hor kt-grid--root  kt-login kt-login--v3 kt-login--signin",id:"kt_login"},d.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor",style:{backgroundImage:"url(assets/media//bg/bg-3.jpg)"}},d.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-login__wrapper"},d.a.createElement("div",{className:"kt-login__container"},d.a.createElement("div",{className:"kt-login__logo"},d.a.createElement("a",{href:"#"},d.a.createElement("img",{src:"/small-logo.png"}))),d.a.createElement("div",{className:"kt-login__signin"},d.a.createElement("div",{className:"kt-login__head"},d.a.createElement("h3",{className:"kt-login__title"},"Sign In To Admin")),d.a.createElement("form",{className:"kt-form",onSubmit:this.submit.bind(this)},d.a.createElement("div",{className:"input-group"},d.a.createElement("input",{className:"form-control",type:"text",placeholder:"Email",name:"email",onChange:function(t){return e.onChangeText(m.rc,t.target.value)},autoComplete:"off",value:a})),this._handleErrorMessage("email"),d.a.createElement("div",{className:"input-group"},d.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",onChange:function(t){return e.onChangeText(m.sc,t.target.value)},name:"password",value:r})),this._handleErrorMessage("user_password"),d.a.createElement("div",{className:"row kt-login__extra"},d.a.createElement("div",{className:"col kt-align-right"},d.a.createElement("a",{id:"kt_login_forgot",className:"kt-login__link refill-cursor",onClick:this._openPage.bind(this,"/forgot_password")},"Forget Password ?"))),d.a.createElement("div",{className:"kt-login__actions"},d.a.createElement("button",{type:"submit",id:"kt_login_signin_submit",className:"btn btn-brand btn-elevate kt-login__btn-primary"},n?"Loading...":"Sign In"))))))))))}}]),t}(c.PureComponent);t.default=Object(g.b)(function(e){var t=e.login,a=t&&t[m.tc]?t[m.tc]:void 0,r=a&&a[m.qc]?a[m.qc]:void 0;return{email:r&&r[m.rc]?r[m.rc]:void 0,password:r&&r[m.sc]?r[m.sc]:void 0,errors:a&&a[m.pc]?a[m.pc]:[],loading:!(!a||!a[m.uc])&&a[m.uc],reqeustStatus:a&&a[m.yc]?a[m.yc]:{}}},{updateFormData:p.e,updateUIConstraints:p.f,login:p.a,updateSystemData:k.a,resetLoginState:p.c})(h)}}]);
//# sourceMappingURL=17.60fb5b04.chunk.js.map