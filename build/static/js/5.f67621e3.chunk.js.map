{"version":3,"sources":["apis/Download.js","pages/dashboard/product/List.js"],"names":["module","exports","download","data","strFileName","strMimeType","blob","b","fr","self","window","u","m","x","D","document","a","createElement","z","String","B","Blob","MozBlob","WebKitBlob","BB","MSBlobBuilder","WebKitBlobBuilder","BlobBuilder","fn","this","match","navigator","msSaveBlob","p","split","t","bin","atob","decodeURIComponent","pop","mx","length","i","uia","Uint8Array","charCodeAt","type","d2b","saver","y","append","getBlob","url","winMode","href","setAttribute","innerHTML","body","appendChild","setTimeout","click","removeChild","URL","revokeObjectURL","f","replace","src","createObjectURL","constructor","btoa","encodeURIComponent","FileReader","onload","e","result","readAsDataURL","ListProduct","componentDidMount","product_list","init","updateSystemData","props","SYSTEM_DATA_PAGE_TITLE","user_token","updateDeleteProductFormData","$","DataTable","responsive","processing","serverSide","ajax","getProductsDataTables","beforeSend","request","setRequestHeader","getAuthoriztionToken","columns","columnDefs","targets","orderable","render","full","meta","_id","moment","format","substring","redraw","draw","_openPage","history","push","componentDidUpdate","prevProps","deleteProductRequestStatus","exportProductRequestStatus","prevReqeustStatus","STATUS","SUCCESS","ToastsStore","success","resetProductData","TOKEN_NOT_FOUND","error","ERROR","MESSAGE","message","SERVER_VALIDATION_ERROR","SERVER_NO_VALUE","prevExportReqeustStatus","componentWillUnmount","resetProductState","exportCSVFile","refillExportAllProducts","then","Download","catch","res","console","log","deleteProductLoading","deleteProduct","exportProductLoading","className","id","class","onClick","bind","table_id","exportCSVFileData","label","loading","description","confirm_btn","onConfirm","PureComponent","connect","user","product","user_data","USER_KEY","undefined","USER_DATA","product_data","PRODUCT_KEY","DELETE_PRODUCT_REQUEST_STATUS","DELETE_PRODUCT_REQEUST_LOADING","EXPORT_PRODUCT_REQUEST_STATUS","EXPORT_PRODUCT_REQEUST_LOADING"],"mappings":"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","file":"static/js/5.f67621e3.chunk.js","sourcesContent":["/** Download file */\nmodule.exports.download = function(data, strFileName, strMimeType) {\n\t\n\tvar self = window,\n\t\tu = \"application/octet-stream\",\n\t\tm = strMimeType || u, \n\t\tx = data,\n\t\tD = document,\n\t\ta = D.createElement(\"a\"),\n\t\tz = function(a){return String(a);},\n\t\t\n\t\t\n\t\tB = self.Blob || self.MozBlob || self.WebKitBlob || z,\n\t\tBB = self.MSBlobBuilder || self.WebKitBlobBuilder || self.BlobBuilder,\n\t\tfn = strFileName || \"download\",\n\t\tblob, \n\t\tb,\n\t\tua,\n\t\tfr;\n\n\t//if(typeof B.bind === 'function' ){ B=B.bind(self); }\n\t\n\tif(String(this)===\"true\"){ \n\t\tx=[x, m];\n\t\tm=x[0];\n\t\tx=x[1]; \n\t}\n\t\n\t\n\t\n\tif(String(x).match(/^data\\:[\\w+\\-]+\\/[\\w+\\-]+[,;]/)){\n\t\treturn navigator.msSaveBlob ? \n\t\t\tnavigator.msSaveBlob(d2b(x), fn) : \n\t\t\tsaver(x) ;\n\t}\n\t\n\ttry{\n\t\n\t\tblob = x instanceof B ? \n\t\t\tx : \n\t\t\tnew B([x], {type: m}) ;\n\t}catch(y){\n\t\tif(BB){\n\t\t\tb = new BB();\n\t\t\tb.append([x]);\n\t\t\tblob = b.getBlob(m);\n\t\t}\n\t\t\n\t}\n\t\n\t\n\t\n\tfunction d2b(u) {\n\t\tvar p= u.split(/[:;,]/),\n\t\tt= p[1],\n\t\tdec= p[2] == \"base64\" ? atob : decodeURIComponent,\n\t\tbin= dec(p.pop()),\n\t\tmx= bin.length,\n\t\ti= 0,\n\t\tuia= new Uint8Array(mx);\n\n\t\tfor(i;i<mx;++i) uia[i]= bin.charCodeAt(i);\n\n\t\treturn new B([uia], {type: t});\n\t }\n\t  \n\tfunction saver(url, winMode){\n\t\t\n\t\t\n\t\tif ('download' in a) {\n\t\t\ta.href = url;\n\t\t\ta.setAttribute(\"download\", fn);\n\t\t\ta.innerHTML = \"downloading...\";\n\t\t\tD.body.appendChild(a);\n\t\t\tsetTimeout(function() {\n\t\t\t\ta.click();\n\t\t\t\tD.body.removeChild(a);\n\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(a.href);}, 250 );}\n\t\t\t}, 66);\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tvar f = D.createElement(\"iframe\");\n\t\tD.body.appendChild(f);\n\t\tif(!winMode){\n\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, u);\n\t\t}\n\t\t \n\t\n\t\tf.src = url;\n\t\tsetTimeout(function(){ D.body.removeChild(f); }, 333);\n\t\t\n\t}\n\t\t\n\n\tif (navigator.msSaveBlob) {\n\t\treturn navigator.msSaveBlob(blob, fn);\n\t} \t\n\t\n\tif(self.URL){ \n\t\tsaver(self.URL.createObjectURL(blob), true);\n\t}else{\n\n\t\tif(typeof blob === \"string\" || blob.constructor===z ){\n\t\t\ttry{\n\t\t\t\treturn saver( \"data:\" +  m   + \";base64,\"  +  self.btoa(blob)  ); \n\t\t\t}catch(y){\n\t\t\t\treturn saver( \"data:\" +  m   + \",\" + encodeURIComponent(blob)  ); \n\t\t\t}\n\t\t}\n\t\t\n\t\tfr=new FileReader();\n\t\tfr.onload=function(e){\n\t\t\tsaver(this.result); \n\t\t};\n\t\tfr.readAsDataURL(blob);\n\t}\t\n\treturn true;\n} \n/** -------------------------------------------------------- */\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { updateSystemData } from '../../../redux/system/Action'\nimport { SYSTEM_DATA_PAGE_TITLE, USER_KEY, USER_DATA, PRODUCT_KEY, DELETE_PRODUCT_FORM, DELETE_PRODUCT_FORM_PRODUCT_ID, DELETE_PRODUCT_REQEUST_LOADING, DELETE_PRODUCT_REQUEST_STATUS, SERVER_NO_VALUE, SERVER_SUCCESS, TOKEN_NOT_FOUND, SUCCESS, ERROR, STATUS, MESSAGE, SERVER_VALIDATION_ERROR, EXPORT_PRODUCT_REQEUST_LOADING, EXPORT_PRODUCT_REQUEST_STATUS } from '../../../redux/Types'\nimport { getProductsDataTables, getAuthoriztionToken, refillExportAllProducts } from '../../../apis/APIs'\nimport moment from 'moment';\nimport { ProductTable } from '../../../components/dashboard/product'\nimport { ConfirmAlert } from '../../../components/base_components'\nimport { ToastsStore } from 'react-toasts'\nimport { deleteProduct, updateDeleteProductFormData, resetProductState } from '../../../redux/product/Action'\nimport Download from '../../../apis/Download'\n\nclass ListProduct extends PureComponent {\n\tstatic propTypes = {\n\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.product_list();\n\t\tthis.init();\n\t}\n\n\tinit = () => {\n\t\tconst { updateSystemData } = this.props;\n\n\t\tupdateSystemData({\n\t\t\t[SYSTEM_DATA_PAGE_TITLE]: \"Refill | Product List\"\n\t\t});\n\t}\n\n\tproduct_list = function () {\n\t\tconst { user_token, updateDeleteProductFormData } = this.props;\n\t\tconst that = this;\n\n\t\tvar table = window.$('#product_list');\n\n\t\t// begin first table\n\t\ttable.DataTable({\n\t\t\tresponsive: true,\n\t\t\tprocessing: true,\n\t\t\tserverSide: true,\n\t\t\tajax: {\n\t\t\t\turl: getProductsDataTables(),\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: { user_token },\n\t\t\t\tbeforeSend: function (request) {\n\t\t\t\t\trequest.setRequestHeader(\"Authorization\", getAuthoriztionToken());\n\t\t\t\t}\n\t\t\t},\n\t\t\tcolumns: [\n\t\t\t\t{ data: '_id' },\n\t\t\t\t{ data: 'name' },\n\t\t\t\t{ data: 'createdAt' },\n\t\t\t\t{ data: 'Actions' },\n\t\t\t],\n\t\t\tcolumnDefs: [\n\t\t\t\t{\n\t\t\t\t\ttargets: -1,\n\t\t\t\t\torderable: false,\n\t\t\t\t\trender: function (data, type, full, meta) {\n\n\t\t\t\t\t\treturn `\n                        <span class=\"dropdown\">\n                            <a href=\"#\" class=\"btn btn-sm btn-clean btn-icon btn-icon-md\" data-toggle=\"dropdown\" aria-expanded=\"true\">\n                              <i class=\"la la-ellipsis-h\"></i>\n                            </a>\n                            <div class=\"dropdown-menu dropdown-menu-right\">\n                                <a class=\"dropdown-item\" href=\"/product/edit/${full._id}\"><i class=\"la la-edit\"></i>Edit</a>\n                            </div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<script>\n\t\t\t\t\t\t\tfunction getProductId(id){\n\t\t\t\t\t\t\t\t$(\"#confirm_product_delete\").data(\"data-product-id\", id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</script>\n                        <button class=\"btn btn-sm btn-clean btn-icon btn-icon-md\" id=\"${full._id}\" onclick=\"getProductId(this.id)\" data-toggle=\"modal\" data-target=\"#product_delete\">\n                          <i class=\"fa fa-trash\"></i>\n\t\t\t\t\t\t</button>\n                    `;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttargets: -2,\n\t\t\t\t\trender: function (data, type, full, meta) {\n\n\t\t\t\t\t\treturn '<span class=\"kt-font-bold\">' + moment(data).format('DD/MM/YYYY') + '</span>';\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttargets: -4,\n\t\t\t\t\trender: function (data, type, full, meta) {\n\n\t\t\t\t\t\treturn '<span class=\"kt-font-bold\">' + data ? `...${data.substring(data.length - 8, data.length)}` : 'No ID Found' + '</span>';\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t],\n\t\t});\n\t};\n\n\tredraw = function () {\n\t\tvar table = window.$('#product_list').DataTable();\n\t\ttable.draw();\n\t}\n\n\t_openPage = (url) => {\n\t\tconst { history } = this.props;\n\n\t\tif (!url) return;\n\n\t\thistory.push(url);\n\t}\n\n\tcomponentDidUpdate = (prevProps) => {\n\t\tconst { deleteProductRequestStatus, exportProductRequestStatus, history } = this.props;\n\n\t\tconst prevReqeustStatus = prevProps && prevProps.deleteProductRequestStatus ? prevProps.deleteProductRequestStatus : {};\n\t\tif (deleteProductRequestStatus[STATUS] !== prevReqeustStatus[STATUS]) {\n\t\t\tswitch (deleteProductRequestStatus[STATUS]) {\n\t\t\t\tcase SUCCESS:\n\t\t\t\t\tToastsStore.success(\"Product successfully deleted\", 3000);\n\t\t\t\t\twindow.$(\"#close_product_delete\").click();\n\t\t\t\t\tthis.resetProductData();\n\t\t\t\t\tthis.redraw();\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOKEN_NOT_FOUND:\n\t\t\t\t\tToastsStore.error(\"Token not available, Please try again\", 3000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ERROR:\n\t\t\t\t\tconst status = deleteProductRequestStatus[MESSAGE] && deleteProductRequestStatus[MESSAGE].message ? deleteProductRequestStatus[MESSAGE].message : '';\n\n\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\tcase SERVER_VALIDATION_ERROR:\n\t\t\t\t\t\t\tToastsStore.error(\"Validation error, Please try again\", 3000);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase SERVER_NO_VALUE:\n\t\t\t\t\t\t\tToastsStore.error(\"Product not Found, Please try again\", 3000);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconst prevExportReqeustStatus = prevProps && prevProps.exportProductRequestStatus ? prevProps.exportProductRequestStatus : {};\n\t\tif (exportProductRequestStatus[STATUS] !== prevExportReqeustStatus[STATUS]) {\n\t\t\tswitch (exportProductRequestStatus[STATUS]) {\n\t\t\t\tcase SUCCESS:\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOKEN_NOT_FOUND:\n\t\t\t\t\tToastsStore.error(\"Token not available, Please try again\", 3000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ERROR:\n\t\t\t\t\tconst status = deleteProductRequestStatus[MESSAGE] && deleteProductRequestStatus[MESSAGE].message ? deleteProductRequestStatus[MESSAGE].message : '';\n\n\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\tcase SERVER_VALIDATION_ERROR:\n\t\t\t\t\t\t\tToastsStore.error(\"Validation error, Please try again\", 3000);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase SERVER_NO_VALUE:\n\t\t\t\t\t\t\tToastsStore.error(\"No products available\", 3000);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tthis.resetProductData();\n\t}\n\n\tresetProductData = () => {\n\t\tconst { resetProductState } = this.props;\n\n\t\tresetProductState();\n\t}\n\n\texportCSVFile = () => {\n\t\tconst { user_token } = this.props;\n\n\t\trefillExportAllProducts(user_token)\n\t\t\t.then(blob => {\n\t\t\t\tDownload.download(blob);\n\t\t\t})\n\t\t\t.catch(res => { console.log(\"export all products ===> error\", res) });\n\t}\n\n\trender() {\n\t\tconst { deleteProductLoading, deleteProduct, exportProductLoading } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor\" id=\"kt_content\">\n\n\t\t\t\t{/* <!-- begin:: Subheader --> */}\n\t\t\t\t<div className=\"kt-subheader   kt-grid__item\" id=\"kt_subheader\">\n\t\t\t\t\t<div className=\"kt-container  kt-container--fluid \">\n\t\t\t\t\t\t<div className=\"kt-subheader__main\">\n\t\t\t\t\t\t\t<h3 className=\"kt-subheader__title\">\n\t\t\t\t\t\t\t\tProduct </h3>\n\t\t\t\t\t\t\t<span className=\"kt-subheader__separator kt-hidden\"></span>\n\t\t\t\t\t\t\t<div className=\"kt-subheader__breadcrumbs\">\n\t\t\t\t\t\t\t\t<a href=\"#\" className=\"kt-subheader__breadcrumbs-home\"><i className=\"flaticon2-shelter\"></i></a>\n\t\t\t\t\t\t\t\t<span className=\"kt-subheader__breadcrumbs-separator\"></span>\n\t\t\t\t\t\t\t\t<a href=\"\" className=\"kt-subheader__breadcrumbs-link\">\n\t\t\t\t\t\t\t\t\tList </a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"kt-subheader__toolbar\">\n\t\t\t\t\t\t\t<div className=\"kt-subheader__wrapper\">\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-brand\" onClick={this._openPage.bind(this, '/product/add')}>\n\t\t\t\t\t\t\t\t\t<i class=\"la la-plus\"></i>\n\t\t\t\t\t\t\t\t\tAdd Product\n                                </button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* <!-- end:: Subheader --> */}\n\n\t\t\t\t{/* <!-- begin:: Content --> */}\n\t\t\t\t<ProductTable\n\t\t\t\t\ttable_id=\"product_list\"\n\t\t\t\t\texportProductLoading={exportProductLoading}\n\t\t\t\t\texportCSVFileData={this.exportCSVFile}\n\t\t\t\t/>\n\n\t\t\t\t<ConfirmAlert\n\t\t\t\t\t_id={\"product_delete\"}\n\t\t\t\t\tlabel=\"Confirm\"\n\t\t\t\t\tloading={deleteProductLoading}\n\t\t\t\t\tdescription={\"Are you sure you want to delete this product\"}\n\t\t\t\t\tconfirm_btn={\"Continue\"}\n\t\t\t\t\tonConfirm={() => {\n\t\t\t\t\t\tdeleteProduct(window.$(\"#confirm_product_delete\").data(\"data-product-id\"));\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{/* <!-- end:: Content --> */}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapToProps = ({ user, product }) => {\n\tconst user_data = user && user[USER_KEY] ? user[USER_KEY] : undefined;\n\tconst user_token = user_data && user_data[USER_DATA] && user_data[USER_DATA].user_token ? user_data[USER_DATA].user_token : false;\n\n\tconst product_data = product && product[PRODUCT_KEY] ? product[PRODUCT_KEY] : undefined;\n\n\tconst deleteProductRequestStatus = product_data && product_data[DELETE_PRODUCT_REQUEST_STATUS] ? product_data[DELETE_PRODUCT_REQUEST_STATUS] : \"\";\n\tconst deleteProductLoading = product_data && product_data[DELETE_PRODUCT_REQEUST_LOADING] ? product_data[DELETE_PRODUCT_REQEUST_LOADING] : \"\";\n\n\tconst exportProductRequestStatus = product_data && product_data[EXPORT_PRODUCT_REQUEST_STATUS] ? product_data[DELETE_PRODUCT_REQUEST_STATUS] : \"\";\n\tconst exportProductLoading = product_data && product_data[EXPORT_PRODUCT_REQEUST_LOADING] ? product_data[DELETE_PRODUCT_REQEUST_LOADING] : \"\";\n\n\tconsole.log(\"deleteProductRequestStatus[STATUS] ===> \", product_data);\n\n\treturn ({\n\t\tuser_token,\n\t\tdeleteProductRequestStatus,\n\t\tdeleteProductLoading,\n\n\t\texportProductRequestStatus,\n\t\texportProductLoading\n\t});\n}\n\nexport default connect(mapToProps, {\n\tupdateSystemData,\n\tdeleteProduct,\n\tupdateDeleteProductFormData,\n\tresetProductState\n})(ListProduct);"],"sourceRoot":""}