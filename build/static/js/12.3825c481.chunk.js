(this.webpackJsonprefill_rjs=this.webpackJsonprefill_rjs||[]).push([[12],{129:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(6),s=a(9),o=a(17),c=a(16),i=a(18),d=a(2),l=a.n(d),b=a(121),_=a(27),u=a(35),g=a(0),y=a(48),m=a.n(y),f=a(28),p=a(24),k=a(119),h=a(20),v=(a(3),function(e){function t(){var e,a;Object(n.a)(this,t);for(var s=arguments.length,i=new Array(s),d=0;d<s;d++)i[d]=arguments[d];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i))))._openPage=function(e){var t=a.props.history;e&&t.push(e)},a.componentDidMount=function(){a.category_list(),a.sub_category_list(),a.init()},a.init=function(){(0,a.props.updateSystemData)(Object(r.a)({},g.pd,"Refill | Category List"))},a.dataApi=function(){console.log("this.props ===> ",a.props)},a.category_list=function(){var e=window.$("#category_list"),t=this.props.user_token;e.DataTable({responsive:!0,processing:!0,serverSide:!0,ajax:{url:Object(_.b)(),type:"POST",data:{user_token:t},beforeSend:function(e){e.setRequestHeader("Authorization",Object(_.a)())}},columns:[{data:"_id"},{data:"name"},{data:"created_at"},{data:"Actions"}],columnDefs:[{targets:-1,orderable:!1,render:function(e,t,a,r){return'\n                        <script>\n                            function deleteCategoryId(id, status){\n                                $("#confirm_category_delete").data("data-category-id", id);\n                                $("#confirm_category_delete").data("data-category-name", status);\n                            }\n                        <\/script>\n                        <button class="btn btn-sm btn-clean btn-icon btn-icon-md" data-toggle="modal" data-target="#category_delete" id="'.concat(a._id,'" name="').concat(a.status,'" onClick="deleteCategoryId(this.id, this.name)">\n                          ').concat(a.status===g.a?'<i class="fa fa-lock"></i>':'<i class="fa fa-unlock"></i>',"\n                        </button>\n                    ")}},{targets:-2,render:function(e,t,a,r){return'<span class="kt-font-bold">'+m()(e).format("DD/MM/YYYY")+"</span>"}},{targets:-4,render:function(e,t,a,r){return"...".concat(e.substring(e.length-8,e.length))}}]})},a.sub_category_list=function(){var e=window.$("#sub_category_list"),t=this.props.user_token;e.DataTable({responsive:!0,processing:!0,serverSide:!0,ajax:{url:Object(_.e)(),type:"POST",data:{user_token:t},beforeSend:function(e){e.setRequestHeader("Authorization",Object(_.a)())}},columns:[{data:"_id"},{data:"categoryId"},{data:"name"},{data:"created_at"},{data:"Actions",responsivePriority:-1}],columnDefs:[{targets:-1,title:"Actions",orderable:!1,render:function(e,t,a,r){return'\n                        <script>\n                            function deleteSubCategoryId(id, name){\n                                var category = name ? name.split(\'-\')[0] : "";\n                                var status = name ? name.split(\'-\')[1] : ""; \n                                console.log(id, category);\n                                $("#confirm_sub_category_delete").data("data-sub-category-id", id);\n                                $("#confirm_sub_category_delete").data("data-sub-category-category-id", category);\n                                $("#confirm_sub_category_delete").data("data-sub-category-status", status);\n                            }\n                        <\/script>\n                        <button class="btn btn-sm btn-clean btn-icon btn-icon-md" data-toggle="modal" data-target="#sub_category_delete" id="'.concat(a._id,'" name="').concat(a.categoryId,"-").concat(a.status,'" onClick="deleteSubCategoryId(this.id, this.name)">\n                          ').concat(a.status===g.a?'<i class="fa fa-lock"></i>':'<i class="fa fa-unlock"></i>',"\n                        </button>")}},{targets:-2,render:function(e,t,a,r){return'<span class="kt-font-bold">'+m()(e).format("DD/MM/YYYY")+"</span>"}},{targets:-4,render:function(e,t,a,r){return"...".concat(e.substring(e.length-8,e.length))}},{targets:-5,render:function(e,t,a,r){return"...".concat(e.substring(e.length-8,e.length))}}]})},a.redraw=function(){window.$("#category_list").DataTable().draw()},a.componentDidUpdate=function(e){var t=a.props,r=t.enable_category_request,n=t.disable_category_request,s=(t.history,e&&e.enable_category_request?e.enable_category_request:{});if(r[g.fd]!==s[g.fd])switch(r[g.fd]){case g.md:h.ToastsStore.success("Category successfully enabled",3e3),window.$("#close_category_delete").click(),a.redraw();break;case g.sd:h.ToastsStore.error("Token not available, Please try again",3e3);break;case g.Tb:switch(r[g.Dc]&&r[g.Dc].message?r[g.Dc].message:""){case g.Yc:h.ToastsStore.error("Validation error, Please try again",3e3);break;case g.Vc:h.ToastsStore.error("Product not Found, Please try again",3e3)}}var o=e&&e.disable_category_request?e.disable_category_request:{};if(n[g.fd]!==o[g.fd])switch(n[g.fd]){case g.md:h.ToastsStore.success("Category successfully disabled",3e3),window.$("#close_category_delete").click(),a.redraw();break;case g.sd:h.ToastsStore.error("Token not available, Please try again",3e3);break;case g.Tb:switch(n[g.Dc]&&n[g.Dc].message?n[g.Dc].message:""){case g.Yc:h.ToastsStore.error("Validation error, Please try again",3e3);break;case g.Vc:h.ToastsStore.error("Product not Found, Please try again",3e3)}}},a}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disableCategory,a=e.enableCategory,r=e.enable_category_loading,n=e.disable_category_loading,s=e.enable_sub_category_loading,o=e.disable_sub_category_loading,c=e.enableSubCategory,i=e.disableSubCategory;return console.log("category_loading ===> ",r,n),l.a.createElement("div",{class:"kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor",id:"kt_content"},l.a.createElement("div",{className:"kt-subheader   kt-grid__item",id:"kt_subheader"},l.a.createElement("div",{className:"kt-container  kt-container--fluid "},l.a.createElement("div",{className:"kt-subheader__main"},l.a.createElement("h3",{className:"kt-subheader__title"},"Category "),l.a.createElement("span",{className:"kt-subheader__separator kt-hidden"}),l.a.createElement("div",{className:"kt-subheader__breadcrumbs"},l.a.createElement("a",{href:"#",className:"kt-subheader__breadcrumbs-home"},l.a.createElement("i",{className:"flaticon2-shelter"})),l.a.createElement("span",{className:"kt-subheader__breadcrumbs-separator"}),l.a.createElement("a",{href:"",className:"kt-subheader__breadcrumbs-link"},"List "))),l.a.createElement("div",{class:"kt-subheader__toolbar"},l.a.createElement("div",{class:"kt-subheader__wrapper"},l.a.createElement("button",{type:"button",class:"btn btn-outline-brand",onClick:this._openPage.bind(this,"/category/add")},l.a.createElement("i",{class:"la la-plus"}),"Add Category"))))),l.a.createElement("div",{class:"kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid"},l.a.createElement("div",{class:"kt-portlet kt-portlet--tabs"},l.a.createElement("div",{class:"kt-portlet__head"},l.a.createElement("div",{class:"kt-portlet__head-toolbar"},l.a.createElement("ul",{class:"nav nav-tabs nav-tabs-space-lg nav-tabs-line nav-tabs-bold nav-tabs-line-3x nav-tabs-line-brand",role:"tablist"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link active","data-toggle":"tab",href:"#kt_apps_contacts_view_tab_2",role:"tab"},"Category")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link ","data-toggle":"tab",href:"#kt_apps_contacts_view_tab_3",role:"tab"},"Sub-Category"))))),l.a.createElement("div",{class:"kt-portlet__body"},l.a.createElement("div",{class:"tab-content  kt-margin-t-20"},l.a.createElement("div",{class:"tab-pane active",id:"kt_apps_contacts_view_tab_2",role:"tabpanel"},l.a.createElement(b.b,{type:"category",table_id:"category_list"}),l.a.createElement(p.c,{_id:"category_delete",label:"Confirm",loading:r||n,description:"Are you sure you want to delete category",confirm_btn:"Continue",onConfirm:function(){window.$("#confirm_category_delete").data("data-category-name")==="".concat(g.a)?t(window.$("#confirm_category_delete").data("data-category-id")):a(window.$("#confirm_category_delete").data("data-category-id"))}})),l.a.createElement("div",{class:"tab-pane",id:"kt_apps_contacts_view_tab_3",role:"tabpanel"},l.a.createElement(b.b,{type:"sub_category",table_id:"sub_category_list"}),l.a.createElement(p.c,{_id:"sub_category_delete",label:"Confirm",loading:s||o,description:"Are you sure you want to delete sub-category",confirm_btn:"Continue",onConfirm:function(){window.$("#confirm_sub_category_delete").data("data-sub-category-status")==="".concat(g.a)?i({category_id:window.$("#confirm_sub_category_delete").data("data-sub-category-category-id"),sub_category_id:window.$("#confirm_sub_category_delete").data("data-sub-category-id")}):c({category_id:window.$("#confirm_sub_category_delete").data("data-sub-category-category-id"),sub_category_id:window.$("#confirm_sub_category_delete").data("data-sub-category-id")})}})))))))}}]),t}(d.PureComponent));t.default=Object(u.b)(function(e){var t=e.user,a=e.category,r=t&&t[g.ud]?t[g.ud]:void 0,n=!!(r&&r[g.td]&&r[g.td].user_token)&&r[g.td].user_token,s=a&&a[g.I]?a[g.I]:void 0,o=s&&s[g.Qb]?s[g.Qb]:{},c=!(!s||!s[g.Pb])&&s[g.Pb],i=s&&s[g.fb]?s[g.fb]:{},d=!(!s||!s[g.eb])&&s[g.eb],l=s&&s[g.Sb]?s[g.Sb]:{};return{user_token:n,enable_category_request:o,enable_category_loading:c,disable_category_request:i,disable_category_loading:d,enable_sub_category_loading:!(!s||!s[g.Rb])&&s[g.Rb],enable_sub_category_request:l,disable_sub_category_request:s&&s[g.hb]?s[g.hb]:{},disable_sub_category_loading:!(!s||!s[g.gb])&&s[g.gb]}},{updateSystemData:f.a,disableCategory:k.c,enableCategory:k.e,enableSubCategory:k.f,disableSubCategory:k.d})(v)}}]);
//# sourceMappingURL=12.3825c481.chunk.js.map