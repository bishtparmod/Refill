(this.webpackJsonprefill_rjs=this.webpackJsonprefill_rjs||[]).push([[16],{134:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(6),o=a(9),c=a(17),s=a(16),i=a(18),l=a(2),d=a.n(l),u=a(35),g=a(0),m=a(23),f=a(7),p=a.n(f),b=a(11),h=a(27),v=a(3),k=function(e){return function(t,a){try{var r=a()[g.ic][g.ec],n=Object.assign(r,e);t(j(n))}catch(o){v.a.log("Update UI Constraints ===> error ",o)}}},j=function(e){return function(t,a){try{var r=a()[g.ic][g.ec];t({type:g.jc,payload:Object.assign(r,e)})}catch(n){v.a.log("Update Login State ===> error ",n)}}},O=a(20),_=a(28),E=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){a.init()},a.init=function(){(0,a.props.updateSystemData)(Object(r.a)({},g.pd,"Refill | Forgot Password"))},a.submit=function(e){e.preventDefault();var t=a.props,n=t.email,o=t.updateUIConstraints,c=t.forgotPassword;if(!t.loading){var s={email:n};m.a.validate(Object.keys(s),s).then(function(e){var t=e.status,a=e.response;t?(o(Object(r.a)({},g.bc,[])),c()):o(Object(r.a)({},g.bc,a&&a.length?a:[]))}).catch(function(e){return console.log(e)})}},a.isError=function(e){var t=a.props.errors;return t&&t.length&&t.findIndex(function(t){return t.fieldName===e})>-1?{status:!0,message:t[t.findIndex(function(t){return t.fieldName===e})].message}:{status:!1,message:""}},a.onChangeText=function(e,t){(0,a.props.updateFormData)(Object(r.a)({},e,t))},a._openPage=function(e){var t=a.props.history;e&&t.push(e)},a.componentDidUpdate=function(e){var t=a.props,r=t.reqeustStatus,n=(t.loading,t.navigation,e&&e.reqeustStatus?e.reqeustStatus:{});if(r[g.fd]!==n[g.fd])switch(r[g.fd]){case g.md:O.ToastsStore.success("Your new password has been sent to your email address."),a._openPage("/login");break;case g.Tb:switch(r[g.Dc]&&r[g.Dc].status?r[g.Dc].status:500){case 404:O.ToastsStore.error("User email is not present.");break;default:O.ToastsStore.error("Internal server error")}}},a._handleErrorMessage=function(e){var t=a.isError(e);return t&&t.status?d.a.createElement("p",{className:"text-right text-error"},t.message):d.a.createElement("div",null)},a.componentWillUnmount=function(){a.resetLoginData()},a.resetLoginData=function(){(0,a.props.resetForgotState)()},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.email,r=t.loading;return d.a.createElement("div",{className:"kt-page-content-white kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-header-mobile--fixed kt-subheader--enabled kt-subheader--transparent kt-aside--enabled kt-aside--fixed kt-page--loading"},d.a.createElement("div",{className:"kt-grid kt-grid--ver kt-grid--root kt-page height-100"},d.a.createElement("div",{className:"kt-grid kt-grid--hor kt-grid--root  kt-login kt-login--v3 kt-login--signin",id:"kt_login"},d.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor",style:{backgroundImage:"url(assets/media//bg/bg-3.jpg)"}},d.a.createElement("div",{className:"kt-grid__item kt-grid__item--fluid kt-login__wrapper"},d.a.createElement("div",{className:"kt-login__container"},d.a.createElement("div",{className:"kt-login__logo"},d.a.createElement("a",{href:"#"},d.a.createElement("img",{src:"/small-logo.png"}))),d.a.createElement("div",{className:"kt-login__signin"},d.a.createElement("div",{className:"kt-login__head"},d.a.createElement("h3",{className:"kt-login__title"},"Forgot Password")),d.a.createElement("form",{className:"kt-form",onSubmit:this.submit.bind(this)},d.a.createElement("div",{className:"input-group"},d.a.createElement("input",{className:"form-control",type:"text",placeholder:"Email",name:"email",onChange:function(t){return e.onChangeText(g.dc,t.target.value)},autoComplete:"off",value:a})),this._handleErrorMessage("email"),d.a.createElement("div",{className:"kt-login__actions"},d.a.createElement("button",{type:"submit",id:"kt_login_signin_submit",className:"btn btn-brand btn-elevate kt-login__btn-primary"},r?"Loading...":"Submit"))))))))))}}]),t}(l.PureComponent);t.default=Object(u.b)(function(e){var t=e.forgot_password,a=t&&t[g.ec]?t[g.ec]:void 0,r=a&&a[g.cc]?a[g.cc]:void 0,n=r&&r[g.dc]?r[g.dc]:void 0,o=a&&a[g.bc]?a[g.bc]:[],c=!(!a||!a[g.fc])&&a[g.fc],s=a&&a[g.gc]?a[g.gc]:{};return console.log("errors ===> forgot password",o),{email:n,errors:o,loading:c,reqeustStatus:s}},{updateFormData:function(e){return function(t,a){try{var n=a()[g.ic][g.ec],o=Object.assign(n[g.cc],e);t(j(Object.assign(n,Object(r.a)({},g.cc,o))))}catch(c){v.a.log("Update Form Data ===> error ",c)}}},updateUIConstraints:k,updateSystemData:_.a,forgotPassword:function(){return function(e,t){try{var a,n,o=t()[g.ic][g.ec][g.cc];e(k((n={},Object(r.a)(n,g.gc,(a={},Object(r.a)(a,g.fd,g.Ob),Object(r.a)(a,g.Dc,""),a)),Object(r.a)(n,g.fc,!0),n)));var c={email:o[g.dc]};Object(h.r)(c).then(function(){var t=Object(b.a)(p.a.mark(function t(a){var n,o,c,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:v.a.log("Refill Forgot Passwrod Response ===> ",a),a&&200===a.status?e(k((o={},Object(r.a)(o,g.gc,(n={},Object(r.a)(n,g.fd,g.md),Object(r.a)(n,g.Dc,a),n)),Object(r.a)(o,g.fc,!1),o))):e(k((s={},Object(r.a)(s,g.gc,(c={},Object(r.a)(c,g.fd,g.Tb),Object(r.a)(c,g.Dc,a),c)),Object(r.a)(s,g.fc,!1),s)));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){var a,n;v.a.log("Refill Forgot Password ===> error",t),e(k((n={},Object(r.a)(n,g.gc,(a={},Object(r.a)(a,g.fd,g.Tb),Object(r.a)(a,g.Dc,""),a)),Object(r.a)(n,g.fc,!1),n)))})}catch(l){var s,i;v.a.log("Update Forgot Password Form Data ===> error ",l),e(k((i={},Object(r.a)(i,g.gc,(s={},Object(r.a)(s,g.fd,g.Tb),Object(r.a)(s,g.Dc,""),s)),Object(r.a)(i,g.fc,!1),i)))}}},resetForgotState:function(e){return function(e,t){try{e({type:g.hc,payload:{}})}catch(a){v.a.log("Update Forgot State ===> error ",a)}}}})(E)}}]);
//# sourceMappingURL=16.9b0388f8.chunk.js.map